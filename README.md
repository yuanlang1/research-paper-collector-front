# ç§‘ç ”è®ºæ–‡æ”¶é›†å™¨

ä¸€ä¸ªåŸºäº Vue 3 + Vite + TypeScript çš„ç§‘ç ”è®ºæ–‡æœç´¢å’Œæ”¶é›†å¹³å°ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ” æ™ºèƒ½æœç´¢ï¼šæ”¯æŒè®ºæ–‡æ ‡é¢˜ã€ä½œè€…ã€å…³é”®è¯æœç´¢
- ğŸ¤– AIå…³é”®è¯æå–ï¼šè¾“å…¥æœç´¢è¯æ—¶è‡ªåŠ¨æå–ç›¸å…³å…³é”®è¯ï¼Œæ”¯æŒç¼–è¾‘å’Œåˆ é™¤
- ğŸ“š æœç´¢å†å²ï¼šè‡ªåŠ¨è®°å½•æœ€è¿‘æœç´¢è¯ï¼Œæ”¯æŒå¿«é€Ÿé‡æ–°æœç´¢
- ğŸ·ï¸ åŠ¨æ€æ ‡ç­¾ï¼šåŸºäºæœç´¢å†å²ç”Ÿæˆæ ‡ç­¾ï¼Œç‚¹å‡»åˆ›å»ºæ–°çš„æœç´¢ä»»åŠ¡
- ğŸ“‹ ä»»åŠ¡ç®¡ç†ï¼šæœç´¢ä»»åŠ¡ä»¥è¡¨æ ¼å½¢å¼å±•ç¤ºï¼ŒåŒ…å«æ£€ç´¢ä¸­ã€æ£€ç´¢å¤±è´¥ã€æ£€ç´¢æˆåŠŸä¸‰ç§çŠ¶æ€
- ğŸŒ åç«¯é›†æˆï¼šæ”¯æŒä»åç«¯APIè·å–æœç´¢å†å²ã€AIå…³é”®è¯å’Œä»»åŠ¡æ•°æ®
- ğŸ’¾ æœ¬åœ°ç¼“å­˜ï¼šå½“åç«¯ä¸å¯ç”¨æ—¶ï¼Œä½¿ç”¨æœ¬åœ°å­˜å‚¨å’Œæ¨¡æ‹Ÿæ•°æ®ä½œä¸ºå¤‡é€‰æ–¹æ¡ˆ
- âœ… ä»»åŠ¡æ“ä½œï¼šåªæœ‰æ£€ç´¢æˆåŠŸçš„ä»»åŠ¡æ‰èƒ½æŸ¥çœ‹è¯¦æƒ…ï¼Œæ”¯æŒåˆ é™¤ä»»åŠ¡ç­‰æ“ä½œ
- ğŸ”„ çŠ¶æ€è½®è¯¢ï¼šè‡ªåŠ¨è½®è¯¢æ£€ç´¢ä¸­ä»»åŠ¡çš„çŠ¶æ€ï¼Œå®æ—¶æ›´æ–°è¿›åº¦
- ğŸ“± å“åº”å¼è®¾è®¡ï¼šé€‚é…æ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯
- âš¡ å¿«é€ŸåŠ è½½ï¼šåŸºäº Vite æ„å»ºï¼Œå¼€å‘ä½“éªŒä¼˜ç§€
- ğŸ¨ ç°ä»£UIï¼šç®€æ´ç¾è§‚çš„ç”¨æˆ·ç•Œé¢ï¼Œæ”¯æŒåŠ è½½çŠ¶æ€å’Œé«˜äº®æ˜¾ç¤º

## æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: Vue 3 (Composition API)
- **æ„å»ºå·¥å…·**: Vite
- **è¯­è¨€**: TypeScript
- **è·¯ç”±**: Vue Router 4
- **çŠ¶æ€ç®¡ç†**: Pinia
- **ä»£ç è§„èŒƒ**: ESLint + Prettier

## å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–

```bash
npm install
```

### å¼€å‘æ¨¡å¼

```bash
npm run dev
```

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

### é¢„è§ˆç”Ÿäº§ç‰ˆæœ¬

```bash
npm run preview
```

### ä»£ç æ£€æŸ¥

```bash
npm run lint
```

### ä»£ç æ ¼å¼åŒ–

```bash
npm run format
```

## é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ components/          # å¯å¤ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ SearchInput.vue  # æœç´¢è¾“å…¥æ¡†
â”‚   â”œâ”€â”€ SearchButton.vue # æœç´¢æŒ‰é’®
â”‚   â”œâ”€â”€ TagToggle.vue    # æ ‡ç­¾åˆ‡æ¢ï¼ˆæœç´¢å†å²æ ‡ç­¾ï¼‰
â”‚   â”œâ”€â”€ EditableTag.vue  # å¯ç¼–è¾‘å…³é”®è¯æ ‡ç­¾
â”‚   â””â”€â”€ AddKeywordButton.vue # æ·»åŠ å…³é”®è¯æŒ‰é’®
â”œâ”€â”€ views/               # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ HomeView.vue     # ä¸»é¡µï¼ˆæœç´¢å…¥å£ï¼ŒAIå…³é”®è¯æå–ï¼‰
â”‚   â”œâ”€â”€ SearchResultsView.vue # æ£€ç´¢ä¿¡æ¯é¡µï¼ˆè¡¨æ ¼å±•ç¤ºç»“æœï¼‰
â”‚   â””â”€â”€ TasksView.vue    # ä»»åŠ¡ç®¡ç†é¡µï¼ˆä»»åŠ¡åˆ—è¡¨å’ŒçŠ¶æ€ï¼‰
â”œâ”€â”€ services/            # APIæœåŠ¡
â”‚   â””â”€â”€ api.ts           # åç«¯APIæ¥å£å°è£…ï¼ˆæœç´¢ã€AIå…³é”®è¯ã€ä»»åŠ¡ç®¡ç†ï¼‰
â”œâ”€â”€ composables/         # ç»„åˆå¼å‡½æ•°
â”‚   â””â”€â”€ useSearchHistory.ts # æœç´¢å†å²çŠ¶æ€ç®¡ç†
â”œâ”€â”€ router/              # è·¯ç”±é…ç½®
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ App.vue              # æ ¹ç»„ä»¶
â”œâ”€â”€ main.ts              # å…¥å£æ–‡ä»¶
â””â”€â”€ style.css            # å…¨å±€æ ·å¼
```

## å¼€å‘è¯´æ˜

### ç»„ä»¶è®¾è®¡

- **SearchInput**: æœç´¢è¾“å…¥æ¡†ç»„ä»¶ï¼Œæ”¯æŒåŒå‘ç»‘å®šå’Œæ¸…ç©ºåŠŸèƒ½
- **SearchButton**: æœç´¢æŒ‰é’®ç»„ä»¶ï¼Œä½¿ç”¨SVGå›¾æ ‡
- **TagToggle**: æ ‡ç­¾åˆ‡æ¢ç»„ä»¶ï¼Œæ”¯æŒæ¿€æ´»çŠ¶æ€åˆ‡æ¢ï¼ˆç”¨äºæœç´¢å†å²ï¼‰
- **EditableTag**: å¯ç¼–è¾‘å…³é”®è¯æ ‡ç­¾ï¼Œæ”¯æŒåŒå‡»ç¼–è¾‘å’Œåˆ é™¤
- **AddKeywordButton**: æ·»åŠ å…³é”®è¯æŒ‰é’®ï¼Œæ”¯æŒæ‰‹åŠ¨æ·»åŠ æ–°å…³é”®è¯

### APIæœåŠ¡

- **api.ts**: å°è£…åç«¯APIè°ƒç”¨ï¼ŒåŒ…æ‹¬ï¼š
  - æœç´¢å†å²ç®¡ç† (`/search/recentsearch`)
  - AIå…³é”®è¯æå– (`/ai/extract-keywords`)
  - æœç´¢ä»»åŠ¡æäº¤ (`/search/search`)
  - ä»»åŠ¡åˆ—è¡¨è·å– (`/search/tasks`)
  - ä»»åŠ¡çŠ¶æ€æŸ¥è¯¢ (`/search/state`)
- **useSearchHistory.ts**: æœç´¢å†å²çŠ¶æ€ç®¡ç†ï¼ŒåŒ…å«æœ¬åœ°ç¼“å­˜æœºåˆ¶

### åŠŸèƒ½ç‰¹ç‚¹

- **AIå…³é”®è¯æå–**: è¾“å…¥æœç´¢è¯æ—¶è‡ªåŠ¨è°ƒç”¨AIæ¥å£æå–ç›¸å…³å…³é”®è¯
- **å…³é”®è¯ç¼–è¾‘**: æ”¯æŒåŒå‡»ç¼–è¾‘ã€åˆ é™¤å’Œæ·»åŠ å…³é”®è¯
- **æœç´¢ä»»åŠ¡**: æäº¤æœç´¢è¯å’Œå…³é”®è¯åˆ°åç«¯ï¼Œåˆ›å»ºæœç´¢ä»»åŠ¡
- **ä»»åŠ¡ç®¡ç†**: ä»»åŠ¡åˆ—è¡¨é¡µé¢æ˜¾ç¤ºæ‰€æœ‰æœç´¢ä»»åŠ¡ï¼ŒåŒ…å«æ£€ç´¢ä¸­ã€æ£€ç´¢å¤±è´¥ã€æ£€ç´¢æˆåŠŸä¸‰ç§çŠ¶æ€
- **çŠ¶æ€è½®è¯¢**: æ¯5ç§’è‡ªåŠ¨æ£€æŸ¥æ£€ç´¢ä¸­ä»»åŠ¡çš„çŠ¶æ€ï¼Œå®æ—¶æ›´æ–°è¿›åº¦
- **æ¡ä»¶æŸ¥çœ‹**: åªæœ‰æ£€ç´¢æˆåŠŸçš„ä»»åŠ¡æ‰èƒ½ç‚¹å‡»æŸ¥çœ‹æŒ‰é’®è·³è½¬åˆ°æ£€ç´¢ä¿¡æ¯é¡µ
- **æ™ºèƒ½ç¼“å­˜**: åç«¯ä¸å¯ç”¨æ—¶è‡ªåŠ¨åˆ‡æ¢åˆ°æœ¬åœ°å­˜å‚¨å’Œæ¨¡æ‹Ÿæ•°æ®
- **å®æ—¶æ›´æ–°**: æœç´¢å†å²å®æ—¶æ›´æ–°ï¼ŒæŒ‰æ—¶é—´æ’åº
- **ä»»åŠ¡é«˜äº®**: æ–°åˆ›å»ºçš„ä»»åŠ¡åœ¨ä»»åŠ¡åˆ—è¡¨ä¸­é«˜äº®æ˜¾ç¤º

### APIæ¥å£è¯´æ˜

#### 1. è·å–æœ€è¿‘æœç´¢å†å²
```
GET /search/recentsearch
```
å“åº”æ ¼å¼ï¼š
```json
{
  "code": 0,
  "msg": "success",
  "data": {
    "search_inf": [
      {
        "id": 25,
        "search": "åŠ¨ä½œè´¨é‡è¯„ä¼°",
        "search-time": "2026-02-04 01:13:37"
      }
    ]
  }
}
```

#### 2. AIå…³é”®è¯æå–
```
POST /ai/extract-keywords
```
è¯·æ±‚ä½“ï¼š
```json
{
  "query": "åŠ¨ä½œè´¨é‡è¯„ä¼°"
}
```
å“åº”æ ¼å¼ï¼š
```json
{
  "keywords": [
    "Action Quality Assessment",
    "Self-attention Mechanism", 
    "Video Action Analysis"
  ]
}
```

#### 3. æäº¤æœç´¢ä»»åŠ¡
```
POST /search/search
```
è¯·æ±‚ä½“ï¼š
```json
{
  "search_inf": "åŠ¨ä½œè´¨é‡è¯„ä¼°",
  "keywards": [
    "Action Quality Assessment",
    "Self-attention Mechanism",
    "Video Action Analysis"
  ]
}
```
å“åº”æ ¼å¼ï¼š
```json
{
  "code": 0,
  "msg": "æœç´¢ä»»åŠ¡åˆ›å»ºæˆåŠŸ",
  "data": {
    "taskId": 1730462400000,
    "status": "pending"
  }
}
```

#### 4. è·å–ä»»åŠ¡åˆ—è¡¨
```
GET /search/tasks
```
å“åº”æ ¼å¼ï¼š
```json
{
  "code": 0,
  "msg": "string",
  "data": {
    "searchs": [
      {
        "id": 0,
        "title": "åŠ¨ä½œè´¨é‡è¯„ä¼°",
        "keywards": [
          "Action Quality Assessment",
          "Self-attention Mechanism"
        ],
        "state": 1
      }
    ]
  }
}
```

#### 5. æŸ¥è¯¢ä»»åŠ¡çŠ¶æ€
```
GET /search/state?id={taskId}
```
å“åº”æ ¼å¼ï¼š
```json
{
  "code": 0,
  "msg": "success",
  "data": {
    "state": 0
  }
}
```
ä»»åŠ¡çŠ¶æ€è¯´æ˜ï¼ˆstateå­—æ®µï¼‰ï¼š
- `0`: æ­£åœ¨æ£€ç´¢
- `1`: æ£€ç´¢å®ŒæˆæˆåŠŸ  
- `2`: æ£€ç´¢å¤±è´¥

ä»»åŠ¡çŠ¶æ€æŸ¥è¯¢çŠ¶æ€ç è¯´æ˜ï¼ˆ/search/stateæ¥å£ï¼‰ï¼š
- `0`: æ­£åœ¨æ£€ç´¢
- `1`: æ£€ç´¢å®ŒæˆæˆåŠŸ
- `2`: æ£€ç´¢å¤±è´¥

### æ ·å¼è§„èŒƒ

- ä½¿ç”¨ç°ä»£CSSç‰¹æ€§ï¼Œæ”¯æŒå“åº”å¼è®¾è®¡
- éµå¾ªè®¾è®¡ç³»ç»Ÿçš„é¢œè‰²å’Œé—´è·è§„èŒƒ
- ç»„ä»¶æ ·å¼é‡‡ç”¨scopedæ¨¡å¼ï¼Œé¿å…æ ·å¼å†²çª
- æ”¯æŒåŠ è½½çŠ¶æ€ã€ç©ºçŠ¶æ€ç­‰ç”¨æˆ·ä½“éªŒä¼˜åŒ–

## æµè§ˆå™¨æ”¯æŒ

- Chrome >= 87
- Firefox >= 78
- Safari >= 14
- Edge >= 88

## è®¸å¯è¯

MIT License
